{
  "testName": "Custom EMIs Interacting with ROI Changes",
  "initialLoanDetails": {
    "disbursements": [
      { "id": "d1", "date": "2024-01-01", "amount": 500000, "remarks": "Initial 500k" }
    ],
    "originalInterestRate": 10.0,
    "originalTenureMonths": 48,
    "startDate": "2024-01-01",
    "startedWithPreEMI": false,
    "emiDebitDay": 1
  },
  "events": [
    { 
      "eventType": "CUSTOM_EMI", 
      "date": "2024-03-01", 
      "newEMI": 12000,
      "remarks": "Set Custom EMI to 12k"
    },
    { 
      "eventType": "ROI_CHANGE", 
      "date": "2024-05-01", 
      "newRate": 11.0, 
      "adjustmentPreference": "adjustTenure",
      "remarks": "ROI to 11% (Adj Tenure)"
    },
    { 
      "eventType": "CUSTOM_EMI", 
      "date": "2024-07-01", 
      "newEMI": 11500,
      "remarks": "Set Custom EMI to 11.5k"
    },
    { 
      "eventType": "ROI_CHANGE", 
      "date": "2024-09-01", 
      "newRate": 9.0, 
      "adjustmentPreference": "adjustEMI",
      "remarks": "ROI to 9% (Adj EMI)"
    }
  ],
  "expectedResults": {
    "scheduleEntryChecks": [
      { "monthNumber": 1, "paymentDate": "2024-01-01", "emi": 12681.32 },
      { "monthNumber": 3, "paymentDate": "2024-03-01", "emi": 12000.00 },
      { "monthNumber": 5, "paymentDate": "2024-05-01", "emi": 12000.00, "interestPaid": 4484.81 },
      { "monthNumber": 7, "paymentDate": "2024-07-01", "emi": 11500.00 },
      { "monthNumber": 9, "paymentDate": "2024-09-01", "emi": 11207.65 }
    ],
    "finalTenure": 48 
  }
}
